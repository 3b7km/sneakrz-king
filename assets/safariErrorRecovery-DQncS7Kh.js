import{r as u,j as s}from"./index-BH6IK7iT.js";import{c as p}from"./createLucideIcon-BlRbHpX6.js";import{C as b}from"./circle-check-big-n0vGfdgR.js";/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],h=p("circle-x",x);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],g=p("refresh-cw",v);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],j=p("triangle-alert",w),m=()=>{const a=navigator.userAgent,i=navigator.vendor,e=/^((?!chrome|android).)*safari/i.test(a)&&/apple/i.test(i),o=/iPad|iPhone|iPod/.test(a)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1,r=o&&e,n=/iPhone|iPad|iPod/.test(a)&&e,t=o?(a.match(/OS (\d+)_(\d+)_?(\d+)?/)||[])[1]:null;return{isSafari:e,isIOS:o,isIOSSafari:r,isMobileSafari:n,iosVersion:t,userAgent:a,vendor:i,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints}},D=()=>{const a=m(),i={emailJSAvailable:!!window.emailjs,emailJSReady:!!window._emailJSReady,emailJSFailed:!!window._emailJSFailed,cookiesEnabled:navigator.cookieEnabled,onlineStatus:navigator.onLine,protocol:window.location.protocol,isSecure:window.location.protocol==="https:",safariInfo:a},e=[];return i.cookiesEnabled||e.push("Cookies disabled"),i.onlineStatus||e.push("Device appears offline"),i.protocol==="file:"&&e.push("Using file:// protocol"),a.isIOSSafari&&!i.isSecure&&e.push("iOS Safari prefers HTTPS"),!i.emailJSAvailable&&!i.emailJSFailed&&e.push("EmailJS script not loaded"),i.potentialIssues=e,i.riskLevel=e.length===0?"low":e.length<=2?"medium":"high",i},f=(a,i={})=>{const e=m(),o=new Date().toISOString(),r={timestamp:o,error:{name:a.name,message:a.message,stack:a.stack,status:a.status||null,text:a.text||null},context:i,safariInfo:e,environment:{userAgent:navigator.userAgent,url:window.location.href,protocol:window.location.protocol,cookiesEnabled:navigator.cookieEnabled,onlineStatus:navigator.onLine,timestamp:o}};e.isIOSSafari?console.group("🍎 iOS Safari Error Log"):e.isSafari?console.group("🦁 Safari Error Log"):console.group("🐛 Error Log"),console.error("Error:",a),console.log("Context:",i),console.log("Safari Info:",e),console.log("Full Log:",r),console.groupEnd();try{const n=JSON.parse(sessionStorage.getItem("errorLogs")||"[]");n.push(r),n.length>10&&n.splice(0,n.length-10),sessionStorage.setItem("errorLogs",JSON.stringify(n))}catch(n){console.warn("Could not store error log:",n)}return r},y=async()=>{const a=m(),i=D();console.log("🔍 Starting EmailJS diagnostic...");const e={timestamp:new Date().toISOString(),safariInfo:a,compatibility:i,tests:{},recommendations:[]};e.tests.scriptLoading={passed:!!window.emailjs,details:{emailJSAvailable:!!window.emailjs,emailJSReady:!!window._emailJSReady,emailJSFailed:!!window._emailJSFailed}},e.tests.scriptLoading.passed||e.recommendations.push("EmailJS script failed to load - check network connectivity or ad blockers"),e.tests.browserCompatibility={passed:navigator.cookieEnabled&&navigator.onLine,details:{cookiesEnabled:navigator.cookieEnabled,online:navigator.onLine,protocol:window.location.protocol,userAgent:navigator.userAgent.substring(0,100)+"..."}},e.tests.browserCompatibility.passed||e.recommendations.push("Browser compatibility issues detected - enable cookies and check network connection"),a.isIOSSafari&&(e.tests.iosSafariCompatibility={passed:window.location.protocol==="https:"&&navigator.cookieEnabled,details:{isSecure:window.location.protocol==="https:",iosVersion:a.iosVersion,isPrivateBrowsing:await E()}},e.tests.iosSafariCompatibility.passed||e.recommendations.push("iOS Safari specific issues - ensure HTTPS, cookies enabled, and not in private browsing")),window.emailjs&&(e.tests.emailJSFunctions={passed:typeof window.emailjs.send=="function"&&typeof window.emailjs.init=="function",details:{hasInit:typeof window.emailjs.init=="function",hasSend:typeof window.emailjs.send=="function",hasSendForm:typeof window.emailjs.sendForm=="function"}},e.tests.emailJSFunctions.passed||e.recommendations.push("EmailJS functions not properly loaded - script may be corrupted"));const o=Object.values(e.tests).every(r=>r.passed);return e.overall={status:o?"healthy":"issues_detected",riskLevel:i.riskLevel,readyForEmailSending:o&&!!window.emailjs&&!!window._emailJSReady},console.log("📊 EmailJS Diagnostic Complete:",e),e},E=async()=>{try{if("storage"in navigator&&"estimate"in navigator.storage)return(await navigator.storage.estimate()).quota<12e7;try{return localStorage.setItem("test","test"),localStorage.removeItem("test"),!1}catch{return!0}}catch{return!1}},k=()=>{try{const a=sessionStorage.getItem("errorLogs");return a?JSON.parse(a):[]}catch(a){return console.warn("Could not retrieve saved errors:",a),[]}},V=()=>{try{return sessionStorage.removeItem("errorLogs"),console.log("✅ Saved errors cleared"),!0}catch(a){return console.warn("Could not clear saved errors:",a),!1}},C=({isVisible:a=!1})=>{const[i,e]=u.useState(null),[o,r]=u.useState([]),[n,t]=u.useState(!1);u.useEffect(()=>{a&&(d(),r(k()))},[a]);const d=async()=>{t(!0);try{const l=await y();e(l)}catch(l){console.error("Diagnostic failed:",l)}finally{t(!1)}},S=()=>{V(),r([])};if(!a)return null;const c=l=>l?s.jsxDEV(b,{className:"w-4 h-4 text-green-500"},void 0,!1,{fileName:"/app/code/src/components/SafariDiagnostic.jsx",lineNumber:44,columnNumber:14},void 0):s.jsxDEV(h,{className:"w-4 h-4 text-red-500"},void 0,!1,{fileName:"/app/code/src/components/SafariDiagnostic.jsx",lineNumber:46,columnNumber:12},void 0);return s.jsxDEV("div",{className:"fixed bottom-4 right-4 max-w-md bg-white border border-gray-200 rounded-lg shadow-lg p-4 z-50 max-h-96 overflow-y-auto",children:[s.jsxDEV("div",{className:"flex items-center justify-between mb-3",children:[s.jsxDEV("h3",{className:"font-semibold text-gray-800 flex items-center gap-2",children:[s.jsxDEV(j,{className:"w-5 h-5 text-orange-500"},void 0,!1,{fileName:"/app/code/src/components/SafariDiagnostic.jsx",lineNumber:53,columnNumber:11},void 0),"Safari/iOS Diagnostics"]},void 0,!0,{fileName:"/app/code/src/components/SafariDiagnostic.jsx",lineNumber:52,columnNumber:9},void 0),s.jsxDEV("button",{onClick:d,disabled:n,className:"p-1 text-gray-500 hover:text-gray-700",children:s.jsxDEV(g,{className:`w-4 h-4 ${n?"animate-spin":""}`},void 0,!1,{fileName:"/app/code/src/components/SafariDiagnostic.jsx",lineNumber:61,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/code/src/components/SafariDiagnostic.jsx",lineNumber:56,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/code/src/components/SafariDiagnostic.jsx",lineNumber:51,columnNumber:7},void 0),n?s.jsxDEV("div",{className:"text-center py-4",children:[s.jsxDEV(g,{className:"w-6 h-6 animate-spin mx-auto text-blue-500"},void 0,!1,{fileName:"/app/code/src/components/SafariDiagnostic.jsx",lineNumber:67,columnNumber:11},void 0),s.jsxDEV("p",{className:"text-sm text-gray-600 mt-2",children:"Running diagnostics..."},void 0,!1,{fileName:"/app/code/src/components/SafariDiagnostic.jsx",lineNumber:68,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/code/src/components/SafariDiagnostic.jsx",lineNumber:66,columnNumber:9},void 0):i?s.jsxDEV("div",{className:"space-y-3",children:[s.jsxDEV("div",{className:"border-b pb-2",children:[s.jsxDEV("h4",{className:"font-medium text-sm text-gray-700 mb-2",children:"Browser Detection"},void 0,!1,{fileName:"/app/code/src/components/SafariDiagnostic.jsx",lineNumber:74,columnNumber:13},void 0),s.jsxDEV("div",{className:"space-y-1 text-xs",children:[s.jsxDEV("div",{className:"flex items-center justify-between",children:[s.jsxDEV("span",{children:"Safari:"},void 0,!1,{fileName:"/app/code/src/components/SafariDiagnostic.jsx",lineNumber:77,columnNumber:17},void 0),c(i.safariInfo.isSafari)]},void 0,!0,{fileName:"/app/code/src/components/SafariDiagnostic.jsx",lineNumber:76,columnNumber:15},void 0),s.jsxDEV("div",{className:"flex items-center justify-between",children:[s.jsxDEV("span",{children:"iOS:"},void 0,!1,{fileName:"/app/code/src/components/SafariDiagnostic.jsx",lineNumber:81,columnNumber:17},void 0),c(i.safariInfo.isIOS)]},void 0,!0,{fileName:"/app/code/src/components/SafariDiagnostic.jsx",lineNumber:80,columnNumber:15},void 0),s.jsxDEV("div",{className:"flex items-center justify-between",children:[s.jsxDEV("span",{children:"iOS Safari:"},void 0,!1,{fileName:"/app/code/src/components/SafariDiagnostic.jsx",lineNumber:85,columnNumber:17},void 0),c(i.safariInfo.isIOSSafari)]},void 0,!0,{fileName:"/app/code/src/components/SafariDiagnostic.jsx",lineNumber:84,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/code/src/components/SafariDiagnostic.jsx",lineNumber:75,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/code/src/components/SafariDiagnostic.jsx",lineNumber:73,columnNumber:11},void 0),s.jsxDEV("div",{className:"border-b pb-2",children:[s.jsxDEV("h4",{className:"font-medium text-sm text-gray-700 mb-2",children:"EmailJS Status"},void 0,!1,{fileName:"/app/code/src/components/SafariDiagnostic.jsx",lineNumber:93,columnNumber:13},void 0),s.jsxDEV("div",{className:"space-y-1 text-xs",children:[s.jsxDEV("div",{className:"flex items-center justify-between",children:[s.jsxDEV("span",{children:"EmailJS Loaded:"},void 0,!1,{fileName:"/app/code/src/components/SafariDiagnostic.jsx",lineNumber:96,columnNumber:17},void 0),c(i.compatibility.emailJSLoaded)]},void 0,!0,{fileName:"/app/code/src/components/SafariDiagnostic.jsx",lineNumber:95,columnNumber:15},void 0),s.jsxDEV("div",{className:"flex items-center justify-between",children:[s.jsxDEV("span",{children:"EmailJS Ready:"},void 0,!1,{fileName:"/app/code/src/components/SafariDiagnostic.jsx",lineNumber:100,columnNumber:17},void 0),c(i.compatibility.emailJSReady)]},void 0,!0,{fileName:"/app/code/src/components/SafariDiagnostic.jsx",lineNumber:99,columnNumber:15},void 0),s.jsxDEV("div",{className:"flex items-center justify-between",children:[s.jsxDEV("span",{children:"Network Online:"},void 0,!1,{fileName:"/app/code/src/components/SafariDiagnostic.jsx",lineNumber:104,columnNumber:17},void 0),c(i.compatibility.networkOnline)]},void 0,!0,{fileName:"/app/code/src/components/SafariDiagnostic.jsx",lineNumber:103,columnNumber:15},void 0),s.jsxDEV("div",{className:"flex items-center justify-between",children:[s.jsxDEV("span",{children:"Cookies Enabled:"},void 0,!1,{fileName:"/app/code/src/components/SafariDiagnostic.jsx",lineNumber:108,columnNumber:17},void 0),c(i.compatibility.cookiesEnabled)]},void 0,!0,{fileName:"/app/code/src/components/SafariDiagnostic.jsx",lineNumber:107,columnNumber:15},void 0),s.jsxDEV("div",{className:"flex items-center justify-between",children:[s.jsxDEV("span",{children:"LocalStorage:"},void 0,!1,{fileName:"/app/code/src/components/SafariDiagnostic.jsx",lineNumber:112,columnNumber:17},void 0),c(i.compatibility.localStorageAvailable)]},void 0,!0,{fileName:"/app/code/src/components/SafariDiagnostic.jsx",lineNumber:111,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/code/src/components/SafariDiagnostic.jsx",lineNumber:94,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/code/src/components/SafariDiagnostic.jsx",lineNumber:92,columnNumber:11},void 0),i.networkTest&&s.jsxDEV("div",{className:"border-b pb-2",children:[s.jsxDEV("h4",{className:"font-medium text-sm text-gray-700 mb-2",children:"Network Test"},void 0,!1,{fileName:"/app/code/src/components/SafariDiagnostic.jsx",lineNumber:121,columnNumber:15},void 0),s.jsxDEV("div",{className:"flex items-center justify-between text-xs",children:[s.jsxDEV("span",{children:"External Request:"},void 0,!1,{fileName:"/app/code/src/components/SafariDiagnostic.jsx",lineNumber:123,columnNumber:17},void 0),c(i.networkTest.success)]},void 0,!0,{fileName:"/app/code/src/components/SafariDiagnostic.jsx",lineNumber:122,columnNumber:15},void 0),!i.networkTest.success&&s.jsxDEV("p",{className:"text-xs text-red-600 mt-1",children:["Network error: ",i.networkTest.error]},void 0,!0,{fileName:"/app/code/src/components/SafariDiagnostic.jsx",lineNumber:127,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/code/src/components/SafariDiagnostic.jsx",lineNumber:120,columnNumber:13},void 0),i.serviceTest&&s.jsxDEV("div",{className:"border-b pb-2",children:[s.jsxDEV("h4",{className:"font-medium text-sm text-gray-700 mb-2",children:"EmailJS Service"},void 0,!1,{fileName:"/app/code/src/components/SafariDiagnostic.jsx",lineNumber:137,columnNumber:15},void 0),s.jsxDEV("div",{className:"flex items-center justify-between text-xs",children:[s.jsxDEV("span",{children:"Service Available:"},void 0,!1,{fileName:"/app/code/src/components/SafariDiagnostic.jsx",lineNumber:139,columnNumber:17},void 0),c(i.serviceTest.emailJSAvailable)]},void 0,!0,{fileName:"/app/code/src/components/SafariDiagnostic.jsx",lineNumber:138,columnNumber:15},void 0),!i.serviceTest.emailJSAvailable&&s.jsxDEV("p",{className:"text-xs text-red-600 mt-1",children:i.serviceTest.reason||i.serviceTest.error},void 0,!1,{fileName:"/app/code/src/components/SafariDiagnostic.jsx",lineNumber:143,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/code/src/components/SafariDiagnostic.jsx",lineNumber:136,columnNumber:13},void 0),o.length>0&&s.jsxDEV("div",{children:[s.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:[s.jsxDEV("h4",{className:"font-medium text-sm text-gray-700",children:["Recent Errors (",o.length,")"]},void 0,!0,{fileName:"/app/code/src/components/SafariDiagnostic.jsx",lineNumber:154,columnNumber:17},void 0),s.jsxDEV("button",{onClick:S,className:"text-xs text-red-600 hover:text-red-800",children:"Clear"},void 0,!1,{fileName:"/app/code/src/components/SafariDiagnostic.jsx",lineNumber:155,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/code/src/components/SafariDiagnostic.jsx",lineNumber:153,columnNumber:15},void 0),s.jsxDEV("div",{className:"max-h-24 overflow-y-auto space-y-1",children:o.slice(-3).map((l,N)=>s.jsxDEV("div",{className:"text-xs bg-red-50 p-2 rounded",children:[s.jsxDEV("div",{className:"font-medium text-red-800",children:l.error.name},void 0,!1,{fileName:"/app/code/src/components/SafariDiagnostic.jsx",lineNumber:165,columnNumber:21},void 0),s.jsxDEV("div",{className:"text-red-600 truncate",children:l.error.message},void 0,!1,{fileName:"/app/code/src/components/SafariDiagnostic.jsx",lineNumber:166,columnNumber:21},void 0),s.jsxDEV("div",{className:"text-red-500 text-xs",children:new Date(l.timestamp).toLocaleTimeString()},void 0,!1,{fileName:"/app/code/src/components/SafariDiagnostic.jsx",lineNumber:167,columnNumber:21},void 0)]},N,!0,{fileName:"/app/code/src/components/SafariDiagnostic.jsx",lineNumber:164,columnNumber:19},void 0))},void 0,!1,{fileName:"/app/code/src/components/SafariDiagnostic.jsx",lineNumber:162,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/code/src/components/SafariDiagnostic.jsx",lineNumber:152,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/code/src/components/SafariDiagnostic.jsx",lineNumber:71,columnNumber:9},void 0):s.jsxDEV("p",{className:"text-sm text-gray-600",children:"Click refresh to run diagnostics"},void 0,!1,{fileName:"/app/code/src/components/SafariDiagnostic.jsx",lineNumber:175,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/code/src/components/SafariDiagnostic.jsx",lineNumber:50,columnNumber:5},void 0)},L=()=>(m(),{safeLocalStorageSet:(a,i)=>{try{return localStorage.setItem(a,JSON.stringify(i)),!0}catch(e){console.warn(`🍎 Safari localStorage failed for ${a}:`,e.message),f(e,{operation:"localStorage_set",key:a});try{return sessionStorage.setItem(a,JSON.stringify(i)),console.log(`✅ Fallback to sessionStorage successful for ${a}`),!0}catch{return console.error(`❌ Both localStorage and sessionStorage failed for ${a}`),!1}}},safeLocalStorageGet:(a,i=null)=>{try{const e=localStorage.getItem(a);return e?JSON.parse(e):i}catch(e){console.warn(`🍎 Safari localStorage read failed for ${a}:`,e.message);try{const o=sessionStorage.getItem(a);return o?JSON.parse(o):i}catch{return console.error(`❌ Both localStorage and sessionStorage read failed for ${a}`),i}}},safariFormSubmit:async(a,i=3)=>{let e;for(let o=1;o<=i;o++)try{console.log(`🍎 Safari form submit attempt ${o}/${i}`);const r=await a();return console.log(`✅ Safari form submit succeeded on attempt ${o}`),r}catch(r){if(e=r,console.warn(`⚠️ Safari form submit failed on attempt ${o}:`,r.message),o<i){const n=o*1e3;console.log(`🔄 Retrying in ${n}ms...`),await new Promise(t=>setTimeout(t,n))}}throw f(e,{operation:"safari_form_submit",attempts:i,finalAttempt:!0}),e},safariEmailJSInit:async(a,i=1e4)=>new Promise((e,o)=>{const r=Date.now(),n=()=>{const t=Date.now()-r;window.emailjs&&window._emailJSReady?(console.log(`✅ EmailJS ready after ${t}ms`),e(!0)):window._emailJSFailed?o(new Error("EmailJS failed to initialize - blocked by browser or network")):t>=i?o(new Error(`EmailJS timeout after ${t}ms`)):setTimeout(n,500)};n()}),safariEmailJSSend:async(a,i,e,o)=>{const r=m();try{if(await(void 0).safariEmailJSInit(o,15e3),!navigator.onLine)throw new Error("Network connection lost");!navigator.cookieEnabled&&r.isIOSSafari&&console.warn("⚠️ Cookies disabled - EmailJS may fail on iOS Safari"),console.log("📧 Sending email via Safari-compatible EmailJS...");const n=await window.emailjs.send(a,i,e,o);return console.log("✅ Email sent successfully via Safari"),n}catch(n){const t={operation:"safari_emailjs_send",safariInfo:r,networkOnline:navigator.onLine,cookiesEnabled:navigator.cookieEnabled,emailJSAvailable:!!window.emailjs,emailJSReady:!!window._emailJSReady};if(f(n,t),r.isIOSSafari){if(n.message.includes("Network"))throw new Error("Network connection issue. Please check your internet connection and try again.");if(n.status===401)throw new Error("Email service configuration error. Please try again or contact support.");if(n.status===429)throw new Error("Too many email attempts. Please wait a moment and try again.")}throw n}},safariNetworkRetry:async(a,i=3,e=1e3)=>{let o;for(let r=1;r<=i;r++)try{return await a()}catch(n){if(o=n,r<i){const t=e*Math.pow(2,r-1);console.log(`🔄 Network retry ${r}/${i} in ${t}ms`),await new Promise(d=>setTimeout(d,t))}}throw o},getSafariErrorSolution:a=>{if(!m().isIOSSafari)return null;const e=a.message.toLowerCase();return e.includes("emailjs")||e.includes("email")?{title:"Email Service Issue on iOS Safari",suggestions:["Check your internet connection","Disable any content blockers or ad blockers","Try switching to cellular data if using WiFi","Update your Safari browser to the latest version","Try again in a few minutes"]}:e.includes("localstorage")||e.includes("storage")?{title:"Storage Issue on iOS Safari",suggestions:["Check if Safari is in Private Browsing mode","Clear Safari cache and cookies","Make sure you have storage space available","Allow cookies and website data in Safari settings"]}:e.includes("network")||e.includes("fetch")?{title:"Network Issue on iOS Safari",suggestions:["Check your internet connection","Try switching between WiFi and cellular data","Disable VPN if you're using one","Check if other websites work properly"]}:{title:"iOS Safari Compatibility Issue",suggestions:["Try refreshing the page","Close other Safari tabs to free up memory","Update iOS to the latest version","Try using a different browser (Chrome, Firefox)","Contact support if the issue persists"]}}});export{h as C,g as R,C as S,j as T,y as a,L as b,D as c,m as d,V as e,k as g,f as l};
