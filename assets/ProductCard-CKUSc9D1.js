import{a as y,r as c,j as e,L as N}from"./index-BH6IK7iT.js";import{P,g as f}from"./urlUtils-DegfWHiF.js";import{S as C}from"./star-DTsjeZcR.js";import{M as E,P as V}from"./plus-BoWnh-W_.js";import{c as D}from"./createLucideIcon-BlRbHpX6.js";import{S as w}from"./shopping-cart-DO40lrmb.js";/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],k=D("eye",z),R=({product:r,onQuickView:S,onAddToCart:u,loadingStates:b={}})=>{const{isAF1Product:m}=y(),[s,x]=c.useState(()=>{if(r.sizes&&r.sizes.length>0){const n=r.sizes[0];return typeof n=="object"?n.value:n}return""}),[o,t]=c.useState(1),[j,h]=c.useState(!1),i=c.useRef(null);c.useEffect(()=>{const n=new IntersectionObserver(([d])=>{d.isIntersecting&&(h(!0),n.disconnect())},{threshold:.1,rootMargin:"50px"});return i.current&&n.observe(i.current),()=>n.disconnect()},[]);const g=async()=>{if(r.sizes&&r.sizes.length>0&&!s){alert("Please select a size");return}await u({...r,selectedSize:s,quantity:o})},v=async()=>{if(r.sizes&&r.sizes.length>0&&!s){alert("Please select a size");return}await u({...r,selectedSize:s,quantity:o}),window.location.href="/checkout"},l=b[`add-${r.id}`];return e.jsxDEV("div",{ref:i,className:"product-card-full bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1",children:[e.jsxDEV("div",{className:"product-image-container relative",children:[j?e.jsxDEV(P,{images:r.images||[r.image],productName:r.name,className:"h-80 sm:h-96",lazy:!0},void 0,!1,{fileName:"/app/code/src/components/product/ProductCard.jsx",lineNumber:88,columnNumber:11},void 0):e.jsxDEV("div",{className:"h-80 sm:h-96 bg-gray-200 animate-pulse flex items-center justify-center",children:e.jsxDEV("div",{className:"w-16 h-16 bg-gray-300 rounded-lg"},void 0,!1,{fileName:"/app/code/src/components/product/ProductCard.jsx",lineNumber:97,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/code/src/components/product/ProductCard.jsx",lineNumber:96,columnNumber:11},void 0),r.isNew&&e.jsxDEV("span",{className:"status-badge absolute top-4 left-4 z-10 bg-green-500 text-white px-3 py-1 rounded-full text-sm font-semibold",children:"New"},void 0,!1,{fileName:"/app/code/src/components/product/ProductCard.jsx",lineNumber:103,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/code/src/components/product/ProductCard.jsx",lineNumber:86,columnNumber:7},void 0),e.jsxDEV("div",{className:"p-6 space-y-4",children:[e.jsxDEV("div",{className:"rating-stars flex items-center",children:[[...Array(5)].map((n,d)=>e.jsxDEV(C,{className:`star w-5 h-5 ${d<Math.floor(r.rating)?"text-yellow-400 fill-current":"text-gray-300"}`},d,!1,{fileName:"/app/code/src/components/product/ProductCard.jsx",lineNumber:114,columnNumber:13},void 0)),e.jsxDEV("span",{className:"ml-2 text-sm text-gray-600 font-medium",children:["(",r.rating,")"]},void 0,!0,{fileName:"/app/code/src/components/product/ProductCard.jsx",lineNumber:123,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/code/src/components/product/ProductCard.jsx",lineNumber:112,columnNumber:9},void 0),e.jsxDEV(N,{to:f(r),children:e.jsxDEV("h3",{className:`text-xl font-bold leading-tight line-clamp-2 hover:text-blue-600 transition-colors cursor-pointer ${m(r.id)?"text-pink-600 bg-gradient-to-r from-pink-100 to-pink-50 px-2 py-1 rounded-md border border-pink-200":"text-gray-900"}`,children:[r.name,m(r.id)&&e.jsxDEV("span",{className:"ml-2 bg-pink-500 text-white px-2 py-1 rounded-full text-xs font-bold",children:"AF1 OFFER!"},void 0,!1,{fileName:"/app/code/src/components/product/ProductCard.jsx",lineNumber:137,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/code/src/components/product/ProductCard.jsx",lineNumber:130,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/code/src/components/product/ProductCard.jsx",lineNumber:129,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex justify-between items-center",children:[e.jsxDEV("p",{className:"text-lg text-gray-600 font-medium",children:r.brand},void 0,!1,{fileName:"/app/code/src/components/product/ProductCard.jsx",lineNumber:146,columnNumber:11},void 0),e.jsxDEV("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-md text-xs font-medium",children:r.gender},void 0,!1,{fileName:"/app/code/src/components/product/ProductCard.jsx",lineNumber:147,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/code/src/components/product/ProductCard.jsx",lineNumber:145,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex items-center space-x-3",children:[e.jsxDEV("span",{className:"text-2xl font-bold text-gray-900",children:[r.price," EGP"]},void 0,!0,{fileName:"/app/code/src/components/product/ProductCard.jsx",lineNumber:154,columnNumber:11},void 0),r.originalPrice&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("span",{className:"text-lg text-gray-500 line-through",children:[r.originalPrice," EGP"]},void 0,!0,{fileName:"/app/code/src/components/product/ProductCard.jsx",lineNumber:159,columnNumber:15},void 0),e.jsxDEV("span",{className:"bg-red-100 text-red-800 px-2 py-1 rounded-md text-sm font-semibold",children:[Math.round((r.originalPrice-r.price)/r.originalPrice*100),"% OFF"]},void 0,!0,{fileName:"/app/code/src/components/product/ProductCard.jsx",lineNumber:162,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/code/src/components/product/ProductCard.jsx",lineNumber:158,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/code/src/components/product/ProductCard.jsx",lineNumber:153,columnNumber:9},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-2 text-sm text-gray-600",children:[e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{className:"font-medium",children:"Category:"},void 0,!1,{fileName:"/app/code/src/components/product/ProductCard.jsx",lineNumber:177,columnNumber:13},void 0),e.jsxDEV("span",{children:r.category},void 0,!1,{fileName:"/app/code/src/components/product/ProductCard.jsx",lineNumber:178,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/code/src/components/product/ProductCard.jsx",lineNumber:176,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{className:"font-medium",children:"Condition:"},void 0,!1,{fileName:"/app/code/src/components/product/ProductCard.jsx",lineNumber:181,columnNumber:13},void 0),e.jsxDEV("span",{children:r.condition},void 0,!1,{fileName:"/app/code/src/components/product/ProductCard.jsx",lineNumber:182,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/code/src/components/product/ProductCard.jsx",lineNumber:180,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/code/src/components/product/ProductCard.jsx",lineNumber:175,columnNumber:9},void 0),r.sizes&&r.sizes.length>0&&e.jsxDEV("div",{children:[e.jsxDEV("h4",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Size"},void 0,!1,{fileName:"/app/code/src/components/product/ProductCard.jsx",lineNumber:189,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex flex-wrap gap-2",children:r.sizes.map((n,d)=>{const a=typeof n=="object"?n.value:n,p=typeof n=="object"?n.available:!0;return e.jsxDEV("button",{onClick:()=>x(a),disabled:!p,className:`px-3 py-2 border rounded-md text-sm font-medium transition-colors ${s===a?"border-blue-500 bg-blue-50 text-blue-700":p?"border-gray-300 text-gray-700 hover:border-gray-400":"border-gray-200 text-gray-400 bg-gray-50 cursor-not-allowed line-through"}`,children:a},`${r.id}-size-${a}-${d}`,!1,{fileName:"/app/code/src/components/product/ProductCard.jsx",lineNumber:196,columnNumber:19},void 0)})},void 0,!1,{fileName:"/app/code/src/components/product/ProductCard.jsx",lineNumber:190,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/code/src/components/product/ProductCard.jsx",lineNumber:188,columnNumber:11},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h4",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Quantity"},void 0,!1,{fileName:"/app/code/src/components/product/ProductCard.jsx",lineNumber:218,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex items-center space-x-3",children:[e.jsxDEV("button",{onClick:()=>t(Math.max(1,o-1)),disabled:o<=1,className:"p-2 border rounded-md hover:bg-gray-50 disabled:opacity-50",children:e.jsxDEV(E,{className:"w-4 h-4"},void 0,!1,{fileName:"/app/code/src/components/product/ProductCard.jsx",lineNumber:225,columnNumber:15},void 0)},void 0,!1,{fileName:"/app/code/src/components/product/ProductCard.jsx",lineNumber:220,columnNumber:13},void 0),e.jsxDEV("input",{type:"number",value:o,onChange:n=>t(Math.max(1,parseInt(n.target.value)||1)),className:"w-16 text-center border rounded-md py-2",min:"1"},void 0,!1,{fileName:"/app/code/src/components/product/ProductCard.jsx",lineNumber:227,columnNumber:13},void 0),e.jsxDEV("button",{onClick:()=>t(o+1),className:"p-2 border rounded-md hover:bg-gray-50",children:e.jsxDEV(V,{className:"w-4 h-4"},void 0,!1,{fileName:"/app/code/src/components/product/ProductCard.jsx",lineNumber:240,columnNumber:15},void 0)},void 0,!1,{fileName:"/app/code/src/components/product/ProductCard.jsx",lineNumber:236,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/code/src/components/product/ProductCard.jsx",lineNumber:219,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/code/src/components/product/ProductCard.jsx",lineNumber:217,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex flex-col space-y-2",children:[e.jsxDEV(N,{to:f(r),className:"w-full py-3 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-colors flex items-center justify-center gap-2",children:[e.jsxDEV(k,{className:"w-4 h-4"},void 0,!1,{fileName:"/app/code/src/components/product/ProductCard.jsx",lineNumber:251,columnNumber:13},void 0),"View Details"]},void 0,!0,{fileName:"/app/code/src/components/product/ProductCard.jsx",lineNumber:247,columnNumber:11},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxDEV("button",{onClick:g,disabled:l,className:"py-3 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors disabled:opacity-50 flex items-center justify-center gap-2",style:{backgroundColor:"#002b5e"},children:[l?e.jsxDEV("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"},void 0,!1,{fileName:"/app/code/src/components/product/ProductCard.jsx",lineNumber:263,columnNumber:17},void 0):e.jsxDEV(w,{className:"w-4 h-4"},void 0,!1,{fileName:"/app/code/src/components/product/ProductCard.jsx",lineNumber:265,columnNumber:17},void 0),"Add to Cart"]},void 0,!0,{fileName:"/app/code/src/components/product/ProductCard.jsx",lineNumber:256,columnNumber:13},void 0),e.jsxDEV("button",{onClick:v,disabled:l,className:"py-3 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 transition-colors disabled:opacity-50",children:"Buy Now"},void 0,!1,{fileName:"/app/code/src/components/product/ProductCard.jsx",lineNumber:270,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/code/src/components/product/ProductCard.jsx",lineNumber:255,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/code/src/components/product/ProductCard.jsx",lineNumber:246,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/code/src/components/product/ProductCard.jsx",lineNumber:110,columnNumber:7},void 0)]},void 0,!0,{fileName:"/app/code/src/components/product/ProductCard.jsx",lineNumber:81,columnNumber:5},void 0)};export{R as default};
