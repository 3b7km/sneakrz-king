import{r as l,j as o}from"./index-BH6IK7iT.js";import{c as j}from"./createLucideIcon-BlRbHpX6.js";/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],L=j("chevron-left",k);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],C=j("chevron-right",T),F=({images:e=[],productName:d="Product",className:u="h-64",lazy:s=!1})=>{const[n,i]=l.useState(0),[w,m]=l.useState(new Set),[p,a]=l.useState(!0),[E,P]=l.useState(new Set);l.useEffect(()=>{!s&&e.length>0&&e.forEach((t,r)=>{const c=new Image;c.onload=()=>{m($=>{const v=new Set($);return v.add(r),v}),r===n&&a(!1)},c.src=t})},[e,s,n]),l.useEffect(()=>{if(s&&e.length>0){const t=new Image;t.onload=()=>{m(r=>{const c=new Set(r);return c.add(n),c}),a(!1)},t.src=e[n]}},[n,e,s]);const f=()=>{a(!0),i(t=>t===e.length-1?0:t+1)},N=()=>{a(!0),i(t=>t===0?e.length-1:t-1)},S=t=>{a(!0),i(t)},[h,D]=l.useState(null),[b,g]=l.useState(null),x=50,G=t=>{g(null),D(t.targetTouches[0].clientX)},V=t=>{g(t.targetTouches[0].clientX)},I=()=>{if(!h||!b)return;const t=h-b,r=t>x,c=t<-x;r&&e.length>1&&f(),c&&e.length>1&&N()};return!e||e.length===0?o.jsxDEV("div",{className:`${u} bg-gray-200 flex items-center justify-center`,children:o.jsxDEV("span",{className:"text-gray-400",children:"No image available"},void 0,!1,{fileName:"/app/code/src/components/product/ProductGallery.jsx",lineNumber:101,columnNumber:9},void 0)},void 0,!1,{fileName:"/app/code/src/components/product/ProductGallery.jsx",lineNumber:98,columnNumber:7},void 0):o.jsxDEV("div",{className:`relative ${u} group overflow-hidden bg-gray-100`,children:[o.jsxDEV("div",{className:"relative w-full h-full",onTouchStart:G,onTouchMove:V,onTouchEnd:I,children:[p&&o.jsxDEV("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-200 animate-pulse",children:o.jsxDEV("div",{className:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"},void 0,!1,{fileName:"/app/code/src/components/product/ProductGallery.jsx",lineNumber:117,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/code/src/components/product/ProductGallery.jsx",lineNumber:116,columnNumber:11},void 0),E.has(n)?o.jsxDEV("div",{className:"w-full h-full bg-gray-100 flex items-center justify-center",children:o.jsxDEV("div",{className:"text-center text-gray-500",children:[o.jsxDEV("div",{className:"text-2xl mb-2",children:"ðŸ“¸"},void 0,!1,{fileName:"/app/code/src/components/product/ProductGallery.jsx",lineNumber:124,columnNumber:15},void 0),o.jsxDEV("div",{className:"text-sm",children:"Image not found"},void 0,!1,{fileName:"/app/code/src/components/product/ProductGallery.jsx",lineNumber:125,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/code/src/components/product/ProductGallery.jsx",lineNumber:123,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/code/src/components/product/ProductGallery.jsx",lineNumber:122,columnNumber:11},void 0):o.jsxDEV("img",{src:e[n],alt:`${d} - Image ${n+1}`,className:`w-full h-full object-cover transition-opacity duration-300 ${w.has(n)?"opacity-100":"opacity-0"}`,loading:s?"lazy":"eager",onLoad:()=>a(!1),onError:t=>{a(!1);const r=t.target.src;r.includes("./Sneakers photos/")?t.target.src=r.replace("./Sneakers photos/","/Sneakers photos/"):P(c=>new Set([...c,n]))}},void 0,!1,{fileName:"/app/code/src/components/product/ProductGallery.jsx",lineNumber:129,columnNumber:11},void 0),e.length>1&&o.jsxDEV(o.Fragment,{children:[o.jsxDEV("button",{onClick:N,className:"absolute left-2 top-1/2 transform -translate-y-1/2 bg-white/80 hover:bg-white text-gray-800 p-2 rounded-full shadow-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300 z-10","aria-label":"Previous image",children:o.jsxDEV(L,{className:"w-4 h-4"},void 0,!1,{fileName:"/app/code/src/components/product/ProductGallery.jsx",lineNumber:164,columnNumber:15},void 0)},void 0,!1,{fileName:"/app/code/src/components/product/ProductGallery.jsx",lineNumber:159,columnNumber:13},void 0),o.jsxDEV("button",{onClick:f,className:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-white/80 hover:bg-white text-gray-800 p-2 rounded-full shadow-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300 z-10","aria-label":"Next image",children:o.jsxDEV(C,{className:"w-4 h-4"},void 0,!1,{fileName:"/app/code/src/components/product/ProductGallery.jsx",lineNumber:172,columnNumber:15},void 0)},void 0,!1,{fileName:"/app/code/src/components/product/ProductGallery.jsx",lineNumber:167,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/code/src/components/product/ProductGallery.jsx",lineNumber:158,columnNumber:11},void 0),e.length>1&&o.jsxDEV("div",{className:"absolute top-4 right-4 bg-black/60 text-white px-2 py-1 rounded-md text-sm font-medium",children:[n+1," / ",e.length]},void 0,!0,{fileName:"/app/code/src/components/product/ProductGallery.jsx",lineNumber:179,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/code/src/components/product/ProductGallery.jsx",lineNumber:109,columnNumber:7},void 0),e.length>1&&o.jsxDEV("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex space-x-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:e.map((t,r)=>o.jsxDEV("button",{onClick:()=>S(r),className:`w-2 h-2 rounded-full transition-colors duration-200 ${r===n?"bg-white":"bg-white/50 hover:bg-white/75"}`,"aria-label":`Go to image ${r+1}`},r,!1,{fileName:"/app/code/src/components/product/ProductGallery.jsx",lineNumber:189,columnNumber:13},void 0))},void 0,!1,{fileName:"/app/code/src/components/product/ProductGallery.jsx",lineNumber:187,columnNumber:9},void 0),s&&p&&o.jsxDEV("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-gray-200",children:o.jsxDEV("div",{className:"h-full bg-blue-500 animate-pulse"},void 0,!1,{fileName:"/app/code/src/components/product/ProductGallery.jsx",lineNumber:206,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/code/src/components/product/ProductGallery.jsx",lineNumber:205,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/code/src/components/product/ProductGallery.jsx",lineNumber:107,columnNumber:5},void 0)},y=e=>e.toLowerCase().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim().replace(/^-+|-+$/g,""),X=(e,d)=>e.find(u=>y(u.name)===d)||null,q=e=>`/product/${y(e.name)}`;export{F as P,X as f,q as g};
